<!doctype html><html lang=en-us><head><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16.png><link rel=manifest href=/images/site.webmanifest><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A simple, minimal blog for those who love text."><title>深入理解TypeScript——文档篇之Symbols | hackftz</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=https://hackftz.github.io/css/theme-override.css><header><nav><ul><li class=pull-left><a href=https://hackftz.github.io/>~/hackftz</a></li><li class=pull-left><a href=/categories/>~/categories</a></li><li class=pull-left><a href=/tags/>~/tags</a></li><li class=pull-right><a href=https://github.com/hackftz>~/github</a></li></ul></nav></header></head><body><br><div class=article-meta><h1><span class=title>深入理解TypeScript——文档篇之Symbols</span></h1><h2 class=author>hackftz</h2><h2 class=date>2020/10/28</h2><p class=terms>Categories: <a href=/categories/vue>Vue</a>
Tags: <a href=/tags/2020-10>2020-10</a></p></div><div class=content-wrapper><main><h4 id=一介绍>一、介绍</h4><p>Symbol是一种新的原生类型。<br>symbol类型的值是通过Symbol构造函数创建的。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>sym1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Symbol</span>();
<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>sym2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Symbol</span>(<span style=color:#e6db74>&#34;key&#34;</span>); <span style=color:#75715e>// 可选的字符串key
</span></code></pre></div><h4 id=二特性>二、特性</h4><ol><li>不可改变且唯一</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>sym2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Symbol</span>(<span style=color:#e6db74>&#34;key&#34;</span>);
<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>sym3</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Symbol</span>(<span style=color:#e6db74>&#34;key&#34;</span>);

<span style=color:#a6e22e>sym2</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>sym3</span>; <span style=color:#75715e>// false, symbols是唯一的
</span></code></pre></div><ol start=2><li>symbols可以像字符串一样用做对象属性的键</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>sym</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Symbol</span>();

<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>obj</span> <span style=color:#f92672>=</span> {
    [<span style=color:#a6e22e>sym</span>]<span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;value&#34;</span>
};

<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>obj</span>[<span style=color:#a6e22e>sym</span>]); <span style=color:#75715e>// &#34;value&#34;
</span></code></pre></div><ol start=3><li>成员函数</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>getClassNameSymbol</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Symbol</span>();

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>C</span> {
    [<span style=color:#a6e22e>getClassNameSymbol</span>](){
       <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;C&#34;</span>;
    }
}

<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>c</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>C</span>();
<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>className</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>c</span>[<span style=color:#a6e22e>getClassNameSymbol</span>](); <span style=color:#75715e>// &#34;C&#34;
</span></code></pre></div><h4 id=三内置symbols>三、内置symbols</h4><p>内置symbols用来表示语言内部的行为。</p><p>Symbol.hasInstance<br>Symbol.isConcatSpreadable<br>Symbol.iterator<br>Symbol.match<br>Symbol.replace<br>Symbol.search<br>Symbol.species<br>Symbol.split<br>Symbol.toPrimitive<br>Symbol.toStringTag<br>Symbol.unscopables</p><a href=/>>> Home</a></main></div><footer><script>(function(){function center_el(tagName){var tags=document.getElementsByTagName(tagName),i,tag;for(i=0;i<tags.length;i++){tag=tags[i];var parent=tag.parentElement;if(parent.childNodes.length===1){if(parent.nodeName==='A'){parent=parent.parentElement;if(parent.childNodes.length!=1)continue;}
if(parent.nodeName==='P')parent.style.textAlign='center';}}}
var tagNames=['img','embed','object'];for(var i=0;i<tagNames.length;i++){center_el(tagNames[i]);}})();</script><hr>公众号: KeepinJS | <a href=mailto:472849306@qq.com>Email</a></footer></body></html>
<!doctype html><html lang=en-us><head><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16.png><link rel=manifest href=/images/site.webmanifest><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A simple, minimal blog for those who love text."><title>深入理解TypeScript——文档篇之基础类型 | hackftz</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=https://hackftz.github.io/css/theme-override.css><header><nav><ul><li class=pull-left><a href=https://hackftz.github.io/>~/hackftz</a></li><li class=pull-left><a href=/categories/>~/categories</a></li><li class=pull-left><a href=/tags/>~/tags</a></li><li class=pull-right><a href=https://github.com/hackftz>~/github</a></li></ul></nav></header></head><body><br><div class=article-meta><h1><span class=title>深入理解TypeScript——文档篇之基础类型</span></h1><h2 class=author>hackftz</h2><h2 class=date>2020/09/28</h2><p class=terms>Categories: <a href=/categories/typescript>TypeScript</a>
Tags: <a href=/tags/2020-09>2020-09</a> <a href=/tags/note>note</a></p></div><div class=content-wrapper><main><h4 id=一布尔>一、布尔</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>isDone</span>: <span style=color:#66d9ef>boolean</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>
</code></pre></div><h4 id=二数字>二、数字</h4><p>TypeScript里的所有数字都是浮点数。 这些浮点数的类型是 <code>number</code>。支持二、八、十、十六进制。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>decLiteral</span>: <span style=color:#66d9ef>number</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>6</span>;
<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>hexLiteral</span>: <span style=color:#66d9ef>number</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xf00d</span>;
<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>binaryLiteral</span>: <span style=color:#66d9ef>number</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span><span style=color:#a6e22e>b1010</span>;
<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>octalLiteral</span>: <span style=color:#66d9ef>number</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span><span style=color:#a6e22e>o744</span>;
</code></pre></div><h4 id=三字符串>三、字符串</h4><p>支持单双引号，支持模版字符串。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;bob&#34;</span>;
<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>sentence</span>: <span style=color:#66d9ef>string</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>`Hello, my name is </span><span style=color:#e6db74>${</span> <span style=color:#a6e22e>name</span> <span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>
</code></pre></div><h4 id=四数组>四、数组</h4><pre><code class=language-typ data-lang=typ>let list: number[] = [1, 2, 3]; // 简单数组
let list: Array&lt;number&gt; = [1, 2, 3]; // 数组泛型
</code></pre><h4 id=五元祖-tuple>五、元祖 Tuple</h4><p>元组类型允许表示一个已知元素数量和类型的数组，各元素的类型不必相同。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#75715e>// Declare a tuple type
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> [<span style=color:#66d9ef>string</span>, <span style=color:#66d9ef>number</span>];
<span style=color:#75715e>// Initialize it
</span><span style=color:#75715e></span><span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;hello&#39;</span>, <span style=color:#ae81ff>10</span>]; <span style=color:#75715e>// OK
</span><span style=color:#75715e>// Initialize it incorrectly
</span><span style=color:#75715e></span><span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>10</span>, <span style=color:#e6db74>&#39;hello&#39;</span>]; <span style=color:#75715e>// Error
</span></code></pre></div><p>越界元素：当访问一个越界的元素，会使用联合类型替代：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#a6e22e>x</span>[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;world&#39;</span>; <span style=color:#75715e>// OK, 字符串可以赋值给(string | number)类型
</span><span style=color:#75715e></span>
<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>x</span>[<span style=color:#ae81ff>5</span>].<span style=color:#a6e22e>toString</span>()); <span style=color:#75715e>// OK, &#39;string&#39; 和 &#39;number&#39; 都有 toString
</span><span style=color:#75715e></span>
<span style=color:#a6e22e>x</span>[<span style=color:#ae81ff>6</span>] <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>; <span style=color:#75715e>// Error, 布尔不是(string | number)类型
</span></code></pre></div><h4 id=六枚举>六、枚举</h4><p><code>enum</code>类型是对JavaScript标准数据类型的一个补充。 像C#等其它语言一样，使用枚举类型可以为一组数值赋予友好的名字。</p><p>默认情况下，从<code>0</code>开始为元素编号。 也可以手动的指定成员的数值。</p><p>枚举类型提供的一个便利是你可以由枚举的值得到它的名字。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>enum</span> <span style=color:#a6e22e>Color</span> {<span style=color:#a6e22e>Red</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>Green</span>, <span style=color:#a6e22e>Blue</span>}
<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colorName</span>: <span style=color:#66d9ef>string</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Color</span>[<span style=color:#ae81ff>2</span>];

<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>colorName</span>);  <span style=color:#75715e>// 显示&#39;Green&#39;因为上面代码里它的值是2
</span></code></pre></div><h4 id=七any>七、Any</h4><p>变量类型不确定，是动态的。不希望类型检查器对这些值进行检查而是直接让它们通过编译阶段的检查。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>list</span>: <span style=color:#66d9ef>any</span>[] <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#66d9ef>true</span>, <span style=color:#e6db74>&#34;free&#34;</span>];

<span style=color:#a6e22e>list</span>[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>;
</code></pre></div><h4 id=八void>八、Void</h4><p>某种程度上来说，<code>void</code>类型像是与<code>any</code>类型相反，它表示没有任何类型。 当一个函数没有返回值时，你通常会见到其返回值类型是 <code>void</code></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>warnUser</span>()<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;This is my warning message&#34;</span>);
}
</code></pre></div><p>只有值为undefined<code>和</code>null的可以声明一个<code>void</code>类型的变量。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>unusable</span>: <span style=color:#66d9ef>void</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>undefined</span>;
</code></pre></div><h4 id=九null-和-undefined>九、Null 和 Undefined</h4><p>TypeScript里，<code>undefined</code>和<code>null</code>两者各自有自己的类型分别叫做<code>undefined</code>和<code>null</code></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#75715e>// Not much else we can assign to these variables!
</span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>u</span>: <span style=color:#66d9ef>undefined</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>undefined</span>;
<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>n</span>: <span style=color:#66d9ef>null</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</code></pre></div><p>默认情况下<code>null</code>和<code>undefined</code>是所有类型的子类型。 就是说你可以把 <code>null</code>和<code>undefined</code>赋值给<code>number</code>类型的变量。</p><p>这里提一点，tsconfig.json里compilerOptions中strictNullChecks默认为true，建议最好不要设置为false。</p><h4 id=十never>十、Never</h4><p><code>never</code>类型表示的是那些永不存在的值的类型。 例如， <code>never</code>类型是那些总是会抛出异常或根本就不会有返回值的函数表达式或箭头函数表达式的返回值类型； 变量也可能是 <code>never</code>类型，当它们被永不为真的类型保护所约束时。</p><p><code>never</code>类型是任何类型的子类型，也可以赋值给任何类型；然而，<em>没有</em>类型是<code>never</code>的子类型或可以赋值给<code>never</code>类型（除了<code>never</code>本身之外）。 即使 <code>any</code>也不可以赋值给<code>never</code>。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#75715e>// 返回never的函数必须存在无法达到的终点
</span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>error</span>(<span style=color:#a6e22e>message</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>never</span> {
    <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#a6e22e>message</span>);
}

<span style=color:#75715e>// 推断的返回值类型为never
</span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>fail() {</span>
    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#34;Something failed&#34;</span>);
}

<span style=color:#75715e>// 返回never的函数必须存在无法达到的终点
</span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>infiniteLoop</span>()<span style=color:#f92672>:</span> <span style=color:#a6e22e>never</span> {
    <span style=color:#66d9ef>while</span> (<span style=color:#66d9ef>true</span>) {
    }
}
</code></pre></div><h4 id=十一object>十一、Object</h4><p><code>object</code>表示非原始类型，也就是除<code>number</code>，<code>string</code>，<code>boolean</code>，<code>symbol</code>，<code>null</code>或<code>undefined</code>之外的类型。</p><p>使用<code>object</code>类型，就可以更好的表示像<code>Object.create</code>这样的API。例如：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>declare</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>create</span>(<span style=color:#a6e22e>o</span>: <span style=color:#66d9ef>object</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>null</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span>;

<span style=color:#a6e22e>create</span>({ <span style=color:#a6e22e>prop</span>: <span style=color:#66d9ef>0</span> }); <span style=color:#75715e>// OK
</span><span style=color:#75715e></span><span style=color:#a6e22e>create</span>(<span style=color:#66d9ef>null</span>); <span style=color:#75715e>// OK
</span><span style=color:#75715e></span>
<span style=color:#a6e22e>create</span>(<span style=color:#ae81ff>42</span>); <span style=color:#75715e>// Error
</span><span style=color:#75715e></span><span style=color:#a6e22e>create</span>(<span style=color:#e6db74>&#34;string&#34;</span>); <span style=color:#75715e>// Error
</span><span style=color:#75715e></span><span style=color:#a6e22e>create</span>(<span style=color:#66d9ef>false</span>); <span style=color:#75715e>// Error
</span><span style=color:#75715e></span><span style=color:#a6e22e>create</span>(<span style=color:#66d9ef>undefined</span>); <span style=color:#75715e>// Error
</span></code></pre></div><h4 id=十二类型断言>十二、类型断言</h4><p>有时候你会遇到这样的情况，你会比TypeScript更了解某个值的详细信息。 通常这会发生在你清楚地知道一个实体具有比它现有类型更确切的类型。</p><p>类型断言好比其它语言里的类型转换，但是不进行特殊的数据检查和解构。 它没有运行时的影响，只是在编译阶段起作用。 TypeScript会假设你，程序员，已经进行了必须的检查。</p><p>意思就是说，比如有一条数据，我们不能确定它的类型，当这个数据经过一些处理后，我们可以确定它的类型后而做出的推断。</p><p>形式：</p><ol><li><p>“尖括号”语法：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>someValue</span>: <span style=color:#66d9ef>any</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;this is a string&#34;</span>;
   
<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>strLength</span>: <span style=color:#66d9ef>number</span> <span style=color:#f92672>=</span> (<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>string</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>someValue</span>).<span style=color:#a6e22e>length</span>;
</code></pre></div></li><li><p><code>as</code>语法：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>someValue</span>: <span style=color:#66d9ef>any</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;this is a string&#34;</span>;
   
<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>strLength</span>: <span style=color:#66d9ef>number</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>someValue</span> <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>string</span>).<span style=color:#a6e22e>length</span>;
</code></pre></div></li></ol><h4 id=十三-let>十三、 let</h4><p><code>let</code>关键字是JavaScript的一个新概念，TypeScript实现了它。</p><a href=/>>> Home</a></main></div><footer><script>(function(){function center_el(tagName){var tags=document.getElementsByTagName(tagName),i,tag;for(i=0;i<tags.length;i++){tag=tags[i];var parent=tag.parentElement;if(parent.childNodes.length===1){if(parent.nodeName==='A'){parent=parent.parentElement;if(parent.childNodes.length!=1)continue;}
if(parent.nodeName==='P')parent.style.textAlign='center';}}}
var tagNames=['img','embed','object'];for(var i=0;i<tagNames.length;i++){center_el(tagNames[i]);}})();</script><hr>公众号: KeepinJS | <a href=mailto:472849306@qq.com>Email</a></footer></body></html>